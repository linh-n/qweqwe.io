import { skipWaiting, clientsClaim } from "workbox-core";
import { createHandlerBoundToURL, precacheAndRoute } from "workbox-precaching";
import { NavigationRoute, registerRoute } from "workbox-routing";

// register new sw if new version is published
skipWaiting();
clientsClaim();

// route all requests to index.html
const handler = createHandlerBoundToURL("/index.html");
const navigationRoute = new NavigationRoute(handler);
registerRoute(navigationRoute);

// precache files generated by webpack plugin
precacheAndRoute(self.__WB_MANIFEST);
